#
#      Authors: Kordowski Mateusz, Przybysz Filip
#
Import('env_tests')
Import('libraryPath')
Import('testsFolder')
Import('binFolder')
Import('pathToBox2DHeaders')
Import('sys')

pathToH = '#include/main/screen'

#testLibraries = [
#    'boost-system',
#    'boost-thread',
#    'boost_unit_test_framework'
#]

programLibraries = [
    'box2d',
    'sfml-graphics.so',
    'sfml-window.so',
    'sfml-system.so',
    'events', 
    #'screenLib', 
    'drawing',
    'collision'
]

env = env_tests.Clone()

env.Append(
    CPPPATH = [
        '#libraries/boost_1_72_0',
	    pathToH
    ],

    LIBS = [
    #    testLibraries,
        programLibraries
    ],

    LINKFLAGS = [
    #    '-Wl,-Bdynamic',
    #    '-static'
    ],

)

if sys.platform.startswith('linux'):
    objectFiles = [
        binFolder + 'main/screen/CoordinateSystem.o',
        binFolder + 'main/screen/FixedFramerate.o',
        binFolder + 'main/screen/ScreenID.o',
        binFolder + 'main/screen/ScreenManager.o',
        binFolder + 'main/screen/StartScreen.o'
    ]
else:
    objectFiles = [
        binFolder + 'CoordinateSystem.obj',
        binFolder + 'FixedFramerate.obj',
        binFolder + 'ScreenID.obj',
        binFolder + 'ScreenManager.obj',
        binFolder + 'StartScreen.obj'
    ]

CPPFiles = ['ScreenTests.cc']


env.Program(target = "screen/ScreenTests", source = CPPFiles + objectFiles)

